# SECURITY WARNING: All values in this file are EXAMPLES ONLY
# Copy this file to .env and update with your actual values
# NEVER commit .env to version control

# Application Configuration
NODE_ENV=production
PORT=3001

# Database Configuration
DATABASE_URL="postgresql://user:password@localhost:5432/ltl_driver_management"

# JWT Configuration (CRITICAL SECURITY)
# JWT_SECRET MUST be at least 32 characters long
# Generate with: openssl rand -base64 32
JWT_SECRET=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING_AT_LEAST_32_CHARS
JWT_ISSUER=ltl-driver-management
JWT_AUDIENCE=ltl-driver-management-api
# Note: JWT_EXPIRES_IN is deprecated - tokens now expire in 15 minutes

# MyCarrierPackets API Configuration
# Get your credentials from https://mycarrierpackets.com/IntegrationTools
MYCARRIERPACKETS_API_KEY="your-api-key-here"
MYCARRIERPACKETS_USERNAME="your-integration-username"
MYCARRIERPACKETS_PASSWORD="your-integration-password"
MYCARRIERPACKETS_CUSTOMER_ID="your-customer-intellivite-id"
MYCARRIERPACKETS_API_URL="https://api.mycarrierpackets.com"
MYCARRIERPACKETS_FRONTEND_URL="https://mycarrierpackets.com"

# Email Configuration
# EMAIL_PROVIDER options: SMTP (default) or SES (Amazon SES)
EMAIL_PROVIDER=SMTP

# SMTP Configuration (used when EMAIL_PROVIDER=SMTP or not set)
EMAIL_HOST="smtp.gmail.com"
EMAIL_PORT=587
EMAIL_USER="your-email@gmail.com"
EMAIL_PASS="your-app-password"

# AWS SES Configuration (used when EMAIL_PROVIDER=SES)
AWS_REGION="us-west-2"
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
# Note: EMAIL_USER is still used as the "from" address when using SES

# Development/Test email override (routes all emails to this address)
TEST_EMAIL_OVERRIDE="kjohn@ccfs.com"

# File upload
MAX_FILE_SIZE=10485760
UPLOAD_DIR="./uploads"

# Frontend URL for email links
FRONTEND_URL="http://localhost:5173"

# CORS Configuration
# Comma-separated list of allowed origins
ALLOWED_ORIGINS="http://localhost:5173,https://yourdomain.com"
CLIENT_URL="http://localhost:5173"

# Security Configuration
# Rate limiting and security headers are configured automatically
# HSTS is enabled in production mode

# Trusted Proxies (for X-Forwarded-For validation)
# Comma-separated list of trusted proxy IPs or CIDR ranges
# Only set this if behind a load balancer/reverse proxy
# Example: TRUSTED_PROXIES=10.0.0.0/8,172.16.0.0/12
# TRUSTED_PROXIES=

# Logging Configuration
LOG_DIR="./logs"
LOG_LEVEL="info"

# HR System Integration
# API key for receiving driver data from external HR system
# Generate with: openssl rand -base64 32
HR_API_KEY="your-hr-api-key-here"

# GPS Tracking Integration (for real-time ETA calculation)
# Configure your GPS provider's API endpoint and key
# GPS_API_BASE_URL="https://api.your-gps-provider.com"
# GPS_API_KEY="your-gps-api-key-here"

# FormsApp Fleet Integration
# Sync equipment data (trucks, trailers, dollies) from FormsApp fleet management
FORMSAPP_API_KEY="your-formsapp-api-key-here"
FORMSAPP_API_URL="https://your-server/api/v1"
FORMSAPP_SYNC_INTERVAL_MINUTES=60

# Drivers API Integration
# Sync driver data from external driver management system
DRIVERS_API_URL="http://your-drivers-api-server/dataapi"
DRIVERS_API_USERNAME="your-username"
DRIVERS_API_PASSWORD="your-password"
DRIVERS_API_CARRIER_CODE="CCYQ"

# Motive GPS Tracking Integration
# Real-time vehicle location tracking from Motive (formerly KeepTruckin)
MOTIVE_API_KEY="your-motive-api-key"
MOTIVE_API_URL="https://api.gomotive.com/v1"

# Microsoft Entra ID (Azure AD) SSO Configuration
# Get these values from Azure Portal > Microsoft Entra ID > App registrations
# 1. Create a new app registration
# 2. Note the "Application (client) ID" -> ENTRA_CLIENT_ID
# 3. Note the "Directory (tenant) ID" -> ENTRA_TENANT_ID
# 4. Create a client secret under "Certificates & secrets" -> ENTRA_CLIENT_SECRET
# 5. Add redirect URI under "Authentication" -> ENTRA_REDIRECT_URI
SSO_ENABLED=true
ENTRA_CLIENT_ID="22878a5d-3110-4514-b35b-35695a48d3a6"
ENTRA_CLIENT_SECRET="f8f85b94-cedb-4964-8fb0-2980d8f0907a"
ENTRA_TENANT_ID="c185d899-3cb5-4440-9b45-3451b4945863"
ENTRA_REDIRECT_URI="http://localhost:3001/api/auth/sso/callback"
# Auto-create users on first SSO login (default: true)
SSO_AUTO_CREATE_USERS=true
# Default role for auto-created SSO users
SSO_DEFAULT_ROLE=DISPATCHER

# Optional: External Services
# SENTRY_DSN="https://your-sentry-dsn"
# REDIS_URL="redis://localhost:6379"
# AWS_ACCESS_KEY_ID="your-aws-key"
# AWS_SECRET_ACCESS_KEY="your-aws-secret"
# AWS_REGION="us-east-1"
# S3_BUCKET="your-s3-bucket"
